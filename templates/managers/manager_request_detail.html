{% extends "base.html" %}
{% block page_title %}
<div class="px-4 sm:px-6 lg:px-8">
  <div class="bg-blue-800 p-4 rounded-xl text-white inline-flex items-center space-x-3 w-fit">
    <i class="fas fa-eye text-2xl"></i>
    <h2 class="text-xl font-semibold">Request Detail</h2>
  </div>
</div>
{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto py-8">
  <a href="{% url 'managers:manager_requests_list' %}" class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-4 py-2 rounded-full shadow mb-6">
    <i class="fas fa-arrow-left"></i> Back
  </a>

  <div class="bg-white p-6 rounded shadow">
    <h3 class="text-lg font-semibold">{{ request_obj.title }}</h3>
    <p class="text-sm text-gray-600">{{ request_obj.requested_date }} — {{ request_obj.meal_type|capfirst }}</p>
    <p class="mt-3">{{ request_obj.description }}</p>

    <div class="mt-4">
      <form method="post">
        {% csrf_token %}
        <textarea name="response_note" rows="3" class="w-full border rounded px-3 py-2" placeholder="Optional response note…"></textarea>
        <div class="mt-3 flex gap-2">
          <button name="action" value="accept" class="bg-green-600 text-white px-4 py-2 rounded">Accept</button>
          <button name="action" value="decline" class="bg-red-600 text-white px-4 py-2 rounded">Decline</button>
          <button name="action" value="complete" class="bg-indigo-600 text-white px-4 py-2 rounded">Mark Completed</button>
        </div>
      </form>
    </div>

    {% if request_obj.response_note %}
    <div class="mt-4 text-sm text-gray-700">
      <strong>Manager response:</strong>
      <div>{{ request_obj.response_note }}</div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
