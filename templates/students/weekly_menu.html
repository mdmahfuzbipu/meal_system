{% extends 'base.html' %}
{% load static %}

{% block page_title %}
<div class="flex justify-center mt-6">
  <div class="bg-gradient-to-r from-indigo-600 to-green-500 p-6 rounded-2xl shadow-lg text-center w-fit">
    <h2 class="text-3xl font-bold text-white flex items-center justify-center space-x-3">
      <i class="fas fa-utensils text-4xl"></i>
      <span>Weekly Menu</span>
    </h2>
    <p class="text-indigo-100 mt-2 text-sm">
      Explore delicious meals planned for the week — with alternate options for your preference.
    </p>
  </div>
</div>
{% endblock page_title %}

{% block content %}
<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 mb-16">

    <a href="{% url 'accounts:home' %}"
      class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-4 py-2 rounded-full text-md font-semibold shadow hover:from-blue-700 hover:to-blue-900 transition mb-8">
      <i class="fas fa-arrow-left text-white"></i>
      Back to Home
    </a>

  {% if weekly_menu %}
  <div class="bg-blue-100 overflow-x-auto rounded-2xl shadow-lg border border-gray-200 bg-white/70 backdrop-blur-md">
    <table class="min-w-full border-collapse text-gray-800">
      <thead class="bg-gradient-to-r from-indigo-600 to-green-500 text-white">
        <tr>
          <th class="py-4 px-6 text-left rounded-tl-2xl">Day</th>
          <th class="py-4 px-6 text-left">Breakfast</th>
          <th class="py-4 px-6 text-left">Lunch</th>
          <th class="py-4 px-6 text-left rounded-tr-2xl">Dinner</th>
        </tr>
      </thead>
      <tbody>
        {% for day in weekly_menu %}
        <tr class="border-b hover:bg-indigo-50 transition">
          <!-- Day -->
          <td class="py-4 px-6 font-semibold text-gray-700 align-top">{{ day.day_of_week }}</td>

          <!-- Breakfast -->
          <td class="py-4 px-6 align-top">
            {% if day.breakfast_main %}
              <p class="font-medium">{{ day.breakfast_main }}</p>
              <p class="text-sm text-gray-500 mt-1">৳{{ day.breakfast_cost }}</p>
            {% else %}
              <p class="text-gray-400 italic">Not set</p>
            {% endif %}
          </td>

          <!-- Lunch -->
          <td class="py-4 px-6 align-top">
            {% if day.lunch_main %}
              <p class="font-medium">{{ day.lunch_main }}</p>
              <p class="text-sm text-gray-500 mt-1">
                Base: ৳{{ day.lunch_cost }}
                {% if day.lunch_contains_beef %}<span class="text-red-600 font-medium">(Beef)</span>{% elif day.lunch_contains_fish %}<span class="text-blue-600 font-medium">(Fish)</span>{% endif %}
              </p>
              {% if day.lunch_alternate %}
                <span class="inline-block mt-1 text-green-800 text-sm bg-green-100 border border-green-200 rounded-lg px-2 py-1">
                  Alternate: {{ day.lunch_alternate }} — ৳{{ day.lunch_cost_alternate }}
                </span>
              {% endif %}
            {% else %}
              <p class="text-gray-400 italic">Not set</p>
            {% endif %}
          </td>

          <!-- Dinner -->
          <td class="py-4 px-6 align-top">
            {% if day.dinner_main %}
              <p class="font-medium">{{ day.dinner_main }}</p>
              <p class="text-sm text-gray-500 mt-1">
                Base: ৳{{ day.dinner_cost }}
                {% if day.dinner_contains_beef %}<span class="text-red-600 font-medium">(Beef)</span>{% elif day.dinner_contains_fish %}<span class="text-blue-600 font-medium">(Fish)</span>{% endif %}
              </p>
              {% if day.dinner_alternate %}
                <span class="inline-block mt-1 text-indigo-800 text-sm bg-indigo-100 border border-indigo-200 rounded-lg px-2 py-1">
                  Alternate: {{ day.dinner_alternate }} — ৳{{ day.dinner_cost_alternate }}
                </span>
              {% endif %}
            {% else %}
              <p class="text-gray-400 italic">Not set</p>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% else %}
  <div class="text-center mt-20 text-gray-300">
    <i class="fas fa-calendar-times text-5xl"></i>
    <p class="mt-4 text-lg">No weekly menu available yet.</p>
  </div>
  {% endif %}

</div>
{% endblock %}
