{% extends 'base.html' %}
{% load static %}

{% block page_title %}
<div class="px-4 sm:px-6 lg:px-8 text-center">
  <div
    class="inline-block bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-5 rounded-2xl shadow-lg hover:from-blue-700 hover:to-blue-900 transition">
    <h2 class="text-3xl font-bold flex items-center justify-center space-x-3">
      <i class="fas fa-utensils text-white text-4xl"></i>
      <span>Weekly Menu</span>
    </h2>
    <p class="text-blue-100 mt-2 text-sm">
      Explore delicious meals planned for the week — with alternate options for your preference.
    </p>
  </div>
</div>
{% endblock page_title %}

{% block content %}
<div class="max-w-7xl mx-auto px-6 sm:px-8 lg:px-10 mt-10 mb-20">

  <!-- Back Button -->
  <div class="text-center mb-10">
    <a href="{% url 'accounts:home' %}"
      class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-5 py-2 rounded-full text-md font-semibold shadow hover:from-blue-700 hover:to-blue-900 transition">
      <i class="fas fa-arrow-left text-white"></i>
      Back to Home
    </a>
  </div>

  {% if weekly_menu %}
  <!-- Menu Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for day in weekly_menu %}
    <div
      class="bg-gradient-to-br from-blue-100 to-blue-200 p-6 rounded-2xl shadow-md hover:shadow-xl transition transform hover:-translate-y-1 border border-blue-300 flex flex-col text-center">

      <!-- Day Header -->
      <div
        class="bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl px-5 py-3 flex items-center justify-center gap-3 mb-5 shadow">
        <i class="fas fa-calendar-day text-blue-200"></i>
        <h3 class="text-lg font-semibold">{{ day.day_of_week }}</h3>
      </div>

      <!-- Breakfast -->
      <div class="mb-6 border-b border-blue-300 pb-4">
        <h4 class="text-md font-bold text-blue-800 mb-2 flex items-center justify-center gap-2">
          <i class="fas fa-coffee text-yellow-500"></i> Breakfast
        </h4>
        {% if day.breakfast_main %}
        <p class="font-medium text-gray-800">{{ day.breakfast_main }}</p>
        <p class="text-sm text-gray-600 mt-1">৳{{ day.breakfast_cost }}</p>
        {% else %}
        <p class="text-gray-400 italic">Not set</p>
        {% endif %}
      </div>

      <!-- Lunch -->
      <div class="mb-6 border-b border-blue-300 pb-4">
        <h4 class="text-md font-bold text-blue-800 mb-2 flex items-center justify-center gap-2">
          <i class="fas fa-utensils text-green-600"></i> Lunch
        </h4>
        {% if day.lunch_main %}
        <p class="font-medium text-gray-800">{{ day.lunch_main }}</p>
        <p class="text-sm text-gray-600 mt-1">
          Base: ৳{{ day.lunch_cost }}
          {% if day.lunch_contains_beef %}
          <span class="text-red-600 font-semibold">(Beef)</span>
          {% elif day.lunch_contains_fish %}
          <span class="text-blue-600 font-semibold">(Fish)</span>
          {% endif %}
        </p>
        {% if day.lunch_alternate %}
        <span
          class="inline-block mt-2 text-white text-sm bg-gradient-to-r from-green-500 to-green-700 rounded-full px-3 py-1 shadow">
          Alternate: {{ day.lunch_alternate }} — ৳{{ day.lunch_cost_alternate }}
        </span>
        {% endif %}
        {% else %}
        <p class="text-gray-400 italic">Not set</p>
        {% endif %}
      </div>

      <!-- Dinner -->
      <div>
        <h4 class="text-md font-bold text-blue-800 mb-2 flex items-center justify-center gap-2">
          <i class="fas fa-moon text-indigo-600"></i> Dinner
        </h4>
        {% if day.dinner_main %}
        <p class="font-medium text-gray-800">{{ day.dinner_main }}</p>
        <p class="text-sm text-gray-600 mt-1">
          Base: ৳{{ day.dinner_cost }}
          {% if day.dinner_contains_beef %}
          <span class="text-red-600 font-semibold">(Beef)</span>
          {% elif day.dinner_contains_fish %}
          <span class="text-blue-600 font-semibold">(Fish)</span>
          {% endif %}
        </p>
        {% if day.dinner_alternate %}
        <span
          class="inline-block mt-2 text-white text-sm bg-gradient-to-r from-green-500 to-green-700 rounded-full px-3 py-1 shadow">
          Alternate: {{ day.dinner_alternate }} — ৳{{ day.dinner_cost_alternate }}
        </span>
        {% endif %}
        {% else %}
        <p class="text-gray-400 italic">Not set</p>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>

  {% else %}
  <div class="text-center mt-20 text-gray-400">
    <i class="fas fa-calendar-times text-5xl"></i>
    <p class="mt-4 text-lg">No weekly menu available yet.</p>
  </div>
  {% endif %}
</div>
{% endblock %}
