{% extends 'base.html' %}

{% block page_title %}
<div class="px-4 sm:px-6 lg:px-8">
  <!-- Welcome Header Centered -->
  <div class="bg-green-800 p-6 rounded-xl shadow-md text-center text-white max-w-3xl mx-auto">
    <h1 class="text-2xl sm:text-3xl font-bold">
      <i class="fas fa-home text-white mr-2"></i> Welcome, {{ user.first_name|default:user.username }}
    </h1>
    <p class="text-sm mt-1">You're logged into the <strong>Boral Meal Management System</strong>.</p>
  </div>
</div>
{% endblock page_title %}

{% block content %}
<div class="px-4 sm:px-6 lg:px-8 py-10 max-w-6xl mx-auto space-y-10">

  <!-- Dashboard & Notice Row -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    {% if user.role == 'student' %}
    <!-- Student Dashboard Card -->
    <div class="bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-2xl shadow-md p-6 flex justify-between items-center hover:from-blue-600 hover:to-blue-800 transition">
      <div>
        <h3 class="text-xl font-semibold mb-1">Student Dashboard</h3>
        <p class="text-sm text-white/90">Manage your meals and view preferences</p>
        <a href="{% url 'student-dashboard' %}" class="mt-4 inline-block bg-white text-blue-700 px-4 py-2 rounded-md font-bold hover:bg-blue-100 transition text-sm">
          Go to Dashboard
        </a>
      </div>
      <div class="text-4xl">
        <i class="fas fa-user-graduate"></i>
      </div>
    </div>
    {% elif user.role == 'manager' %}
    <!-- Manager Card -->
    <div class="bg-gradient-to-r from-green-500 to-green-700 text-white rounded-2xl shadow-md p-6 flex justify-between items-center hover:from-green-600 hover:to-green-800 transition">
      <div>
        <h3 class="text-xl font-semibold mb-1">Manager Dashboard</h3>
        <p class="text-sm text-white/90">Issue tokens and manage students</p>
        <a href="{% url 'manager-dashboard' %}" class="mt-4 inline-block bg-white text-green-700 px-4 py-2 rounded-md font-bold hover:bg-green-100 transition text-sm">
          Go to Dashboard
        </a>
      </div>
      <div class="text-4xl">
        <i class="fas fa-user-cog"></i>
      </div>
    </div>
    {% elif user.is_superuser or user.role == 'admin' %}
    <!-- Admin Card -->
    <div class="bg-gradient-to-r from-purple-600 to-purple-800 text-white rounded-2xl shadow-md p-6 flex justify-between items-center hover:from-purple-700 hover:to-purple-900 transition">
      <div>
        <h3 class="text-xl font-semibold mb-1">Admin Dashboard</h3>
        <p class="text-sm text-white/90">System analytics and settings</p>
        <a href="{% url 'admin-dashboard' %}" class="mt-4 inline-block bg-white text-purple-700 px-4 py-2 rounded-md font-bold hover:bg-purple-100 transition text-sm">
          Go to Dashboard
        </a>
        <br>
        <a href="/admin/" class="text-sm underline mt-2 inline-block hover:text-purple-200">Django Admin Panel</a>
      </div>
      <div class="text-4xl">
        <i class="fas fa-user-shield"></i>
      </div>
    </div>
    {% endif %}

    <!-- Notice Board -->
    <div class="bg-yellow-100 border-l-4 border-yellow-500 p-6 rounded-2xl shadow-md text-yellow-800">
      <div class="flex items-start gap-3">
        <i class="fas fa-bullhorn text-xl mt-1"></i>
        <div>
          <h3 class="text-lg font-bold mb-1">Notice Board</h3>
          <ul class="text-sm space-y-1 list-disc list-inside">
            <li>Update next month's meal preference before 6:00 PM on the last day of this month.</li>
            <li>Tomorrow's meal must be turned ON/OFF before 6:00 PM today.</li>
            <li>Token not received? Contact your hall manager before dinner hours.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Coming Soon Features -->
  <div class="mt-10">
    <h2 class="text-lg font-semibold mb-4 text-gray-700">Upcoming Features</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">

      <!-- Monthly Summary -->
      <div class="bg-gray-200 text-gray-800 p-6 rounded-2xl shadow-md flex justify-between items-center">
        <div>
          <h3 class="text-lg font-bold">Monthly Summary</h3>
          <p class="text-sm mb-2">View ON/OFF days and cost breakdown</p>
          <span class="bg-gray-400 text-white text-xs px-3 py-1 rounded-full cursor-not-allowed">Coming Soon</span>
        </div>
        <div class="text-3xl text-gray-500">
          <i class="fas fa-chart-line"></i>
        </div>
      </div>

      <!-- Weekly Menu Planner -->
      <div class="bg-gray-200 text-gray-800 p-6 rounded-2xl shadow-md flex justify-between items-center">
        <div>
          <h3 class="text-lg font-bold">Weekly Menu Planner</h3>
          <p class="text-sm mb-2">Customize meals based on your preference</p>
          <span class="bg-gray-400 text-white text-xs px-3 py-1 rounded-full cursor-not-allowed">Coming Soon</span>
        </div>
        <div class="text-3xl text-gray-500">
          <i class="fas fa-utensils"></i>
        </div>
      </div>

    </div>
  </div>

</div>
{% endblock %}
