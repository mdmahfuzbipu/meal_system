{% extends 'base.html' %}
{% load static %}

{% block page_title %}
<div class="px-4 sm:px-6 lg:px-8">
  <div class="bg-purple-700 p-4 rounded-xl shadow-sm inline-flex items-center space-x-3 w-fit">
    <div>
      <h2 class="text-2xl font-bold text-white">
        <i class="fas fa-user-shield text-white text-3xl mr-2"></i>
        Admin Dashboard
      </h2>
      <p class="text-lg text-white mt-1">System overview and management panel</p>
    </div>
  </div>
</div>
{% endblock page_title %}

{% block content %}
<div class="px-4 sm:px-6 lg:px-8 py-10 max-w-6xl mx-auto space-y-10">

  <!-- Summary Row -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

    <!-- Total Students -->
    <div class="bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-2xl shadow-md p-6 flex justify-between items-center 
                transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-blue-600 hover:to-blue-800">
      <div>
        <h3 class="text-lg font-semibold mb-1">Total Students</h3>
        <p class="text-3xl font-bold">{{ total_students }}</p>
      </div>
      <div class="text-4xl">
        <i class="fas fa-user-graduate"></i>
      </div>
    </div>

    <!-- Total Managers -->
    <div class="bg-gradient-to-r from-green-500 to-green-700 text-white rounded-2xl shadow-md p-6 flex justify-between items-center 
                transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-green-600 hover:to-green-800">
      <div>
        <h3 class="text-lg font-semibold mb-1">Total Managers</h3>
        <p class="text-3xl font-bold">{{ total_staff }}</p>
      </div>
      <div class="text-4xl">
        <i class="fas fa-user-tie"></i>
      </div>
    </div>

    <!-- Today's Meals -->
    <div class="bg-gradient-to-r from-yellow-500 to-yellow-700 text-white rounded-2xl shadow-md p-6 flex justify-between items-center 
                transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-yellow-600 hover:to-yellow-800">
      <div>
        <h3 class="text-lg font-semibold mb-1">Today ({{ today|date:"M j" }})</h3>
        <div class="flex gap-4 mt-2">
          <div class="text-center">
            <p class="text-sm text-white/80">Breakfast</p>
            <p class="text-xl font-bold">{{ breakfast_on }}</p>
          </div>
          <div class="text-center">
            <p class="text-sm text-white/80">Lunch</p>
            <p class="text-xl font-bold">{{ lunch_on }}</p>
          </div>
          <div class="text-center">
            <p class="text-sm text-white/80">Dinner</p>
            <p class="text-xl font-bold">{{ dinner_on }}</p>
          </div>
        </div>
      </div>
      <div class="text-4xl">
        <i class="fas fa-bowl-food"></i>
      </div>
    </div>

  </div>

  <!-- Section Header -->
  <div class="flex items-center justify-center mb-8">
    <div class="flex items-center space-x-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-8 py-3 rounded-2xl shadow-lg">
      <i class="fas fa-bolt text-yellow-300 text-2xl"></i>
      <h3 class="text-2xl font-semibold tracking-wide">Quick Actions</h3>
    </div>
  </div>

  <!-- Action Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

    <!-- Add Student -->
    <a href="{% url 'admins:register_student' %}" 
       class="block bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-blue-600 hover:to-blue-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Register Student</h4>
          <p class="text-sm text-white/80">Add new student to the system</p>
        </div>
        <i class="fas fa-user-plus text-3xl"></i>
      </div>
    </a>

    <!-- Manage Students -->
    <a href="{% url 'admins:manage_students' %}" 
       class="block bg-gradient-to-r from-indigo-500 to-indigo-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-indigo-600 hover:to-indigo-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Manage Students</h4>
          <p class="text-sm text-white/80">View and edit student details</p>
        </div>
        <i class="fas fa-users-cog text-3xl"></i>
      </div>
    </a>

    <!-- Add Manager -->
    <a href="{% url 'admins:register_manager' %}" 
       class="block bg-gradient-to-r from-green-500 to-green-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-green-600 hover:to-green-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Register Manager</h4>
          <p class="text-sm text-white/80">Add new hostel manager</p>
        </div>
        <i class="fas fa-user-tie text-3xl"></i>
      </div>
    </a>

    <!-- Manage Managers -->
    <a href="{% url 'admins:manage_managers' %}" 
       class="block bg-gradient-to-r from-green-500 to-green-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-green-600 hover:to-green-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Manage Managers</h4>
          <p class="text-sm text-white/80">Edit or remove managers</p>
        </div>
        <i class="fas fa-user-cog text-3xl"></i>
      </div>
    </a>

    <!-- Register Admin -->
    <a href="{% url 'admins:register_admin' %}" 
      class="block bg-gradient-to-r from-purple-500 to-purple-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-purple-600 hover:to-purple-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Register Admin</h4>
          <p class="text-sm text-white/80">Add a new admin or hall teacher</p>
        </div>
        <i class="fas fa-user-shield text-3xl"></i>
      </div>
    </a>

    <!-- Weekly Menu -->
    <a href="{% url 'students:weekly_menu' %}" 
       class="block bg-gradient-to-r from-pink-500 to-pink-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-pink-600 hover:to-pink-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Weekly Menu</h4>
          <p class="text-sm text-white/80">View or update meal plan</p>
        </div>
        <i class="fas fa-utensils text-3xl"></i>
      </div>
    </a>

    <!-- Meal Cost Analytics -->
    <a href="{% url 'managers:monthly_summary' %}" 
       class="block bg-gradient-to-r from-green-500 to-green-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-green-600 hover:to-green-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Meal Cost Summary</h4>
          <p class="text-sm text-white/80">View monthly meal costs</p>
        </div>
        <i class="fas fa-chart-line text-3xl"></i>
      </div>
    </a>

    <!-- View Complaints -->
    <a href="{% url 'admins:view_complaints' %}" 
       class="block bg-gradient-to-r from-red-500 to-red-700 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-red-600 hover:to-red-800">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">View Complaints</h4>
          <p class="text-sm text-white/80">Handle student complaints</p>
        </div>
        <i class="fas fa-comment-dots text-3xl"></i>
      </div>
    </a>


    <!-- Create Special Meal Request -->
    <a href="{% url 'managers:create_special_request' %}" 
      class="block bg-gradient-to-r from-green-600 to-green-800 text-white rounded-2xl shadow-md p-6 
              transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-green-700 hover:to-green-900">
      <div class="flex justify-between items-center">
        <div>
          <h4 class="text-lg font-semibold mb-1">Create Special Request</h4>
          <p class="text-sm text-white/80">Submit a new special meal request</p>
        </div>
        <i class="fas fa-plus text-3xl"></i>
      </div>
    </a>

<!-- Student Reviews -->
<a href="{% url 'students:reviews_list' %}" 
   class="block bg-gradient-to-r from-indigo-600 to-indigo-800 text-white rounded-2xl shadow-md p-6 
          transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-indigo-700 hover:to-indigo-900">
  <div class="flex justify-between items-center">
    <div>
      <h4 class="text-lg font-semibold mb-1">Meal Reviews</h4>
      <p class="text-sm text-white/80">See weekly meal feedback</p>
    </div>
    <i class="fas fa-star-half-alt text-3xl"></i>
  </div>
</a>



    <!-- Poll Management -->
    <div class="bg-gradient-to-r from-purple-500 to-purple-700 text-white rounded-2xl shadow-md p-6
                transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:from-purple-600 hover:to-purple-800">
      <div class="flex flex-col gap-4">
        <div class="flex justify-between items-center">
          <div>
            <h4 class="text-lg font-semibold mb-1">Poll Management</h4>
            <p class="text-sm text-white/80">Create polls, add options, view results</p>
          </div>
          <i class="fas fa-poll text-3xl"></i>
        </div>

        <!-- Quick Links -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2">
          <a href="{% url 'votes:create_poll' %}" 
            class="block bg-white text-purple-700 px-3 py-2 rounded-md text-center font-medium hover:bg-gray-100 transition">
            <i class="fas fa-plus"></i> Create Poll
          </a>
          <a href="{% url 'votes:poll_list' %}" 
            class="block bg-white text-purple-700 px-3 py-2 rounded-md text-center font-medium hover:bg-gray-100 transition">
            <i class="fas fa-list-alt"></i> All Polls
          </a>
        </div>
      </div>
    </div>

      <!-- Coming Soon -->
    <div class="block rounded-2xl shadow-md p-6 bg-gradient-to-r from-blue-50 to-blue-100 text-gray-700 flex justify-between items-center 
                cursor-not-allowed transform transition-all duration-300 hover:scale-105 hover:shadow-md">
      <div>
        <h4 class="text-lg font-semibold mb-2">Coming Soon</h4>
        <p class="text-sm">More features on the way!</p>
      </div>
      <div class="text-4xl text-blue-400">
        <i class="fas fa-tools"></i>
      </div>
    </div>


  </div>
</div>
{% endblock %}