{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-5">
    <div class="card border-0 shadow-lg rounded-4 overflow-hidden">

        <!-- Header Section -->
        <div class="position-relative overflow-hidden mb-4">
            <div class="position-absolute top-0 start-0 w-100 h-100" 
                 style="background: linear-gradient(135deg, #1e3c72, #2a5298);"></div>
            <div class="position-absolute top-0 start-0 w-100 h-100 opacity-10" 
                 style="background-image: url('{% static 'images/pattern.svg' %}'); background-size: cover;"></div>

            <div class="container position-relative py-5 d-flex flex-column flex-md-row align-items-center gap-4" style="z-index: 2; color: #fff;">
                <!-- Profile Photo -->
                {% if admin_profile.photo %}
                    <img src="{{ admin_profile.photo.url }}" 
                         alt="Profile Photo" 
                         class="rounded-circle border border-4 border-white shadow-lg"
                         style="width: 180px; height: 180px; object-fit: cover;">
                {% else %}
                    <img src="{% static 'images/default_profile.png' %}" 
                         alt="Default Photo" 
                         class="rounded-circle border border-4 border-white shadow-lg"
                         style="width: 180px; height: 180px; object-fit: cover;">
                {% endif %}

                <!-- Info -->
                <div class="flex-grow-1 text-center text-md-start">
                    <h1 class="fw-bold display-4 mb-2 text-shadow">
                        {{ admin_profile.name }}
                    </h1>

                    {% if admin_profile.designation %}
                        <h2 class="fw-semibold display-6 mb-1 text-shadow">
                            {{ admin_profile.get_designation_display }}
                        </h2>
                    {% endif %}

                    {% if admin_profile.hall_role %}
                        <h3 class="fw-semibold h4 mb-2 text-shadow">
                            üèõÔ∏è {{ admin_profile.get_hall_role_display }}
                        </h3>
                    {% endif %}

                    {% if admin_profile.assigned_floor %}
                        <h3 class="fw-semibold h5 mb-2 text-shadow">
                            <i class="bi bi-building"></i> Floor: {{ admin_profile.assigned_floor }}
                        </h3>
                    {% endif %}

                    {% if admin_profile.phone %}
                        <h3 class="fw-semibold h5 mb-2 text-shadow">
                            <i class="bi bi-telephone"></i> {{ admin_profile.phone }}
                        </h3>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Body Section -->
        <div class="card-body bg-light">
            <div class="row g-4">
                <!-- Basic Info -->
                <div class="col-lg-6">
                    <div class="p-4 bg-white rounded-4 shadow-sm h-100">
                        <h5 class="fw-bold border-bottom pb-2 text-primary">
                            <i class="bi bi-person-badge"></i> Basic Information
                        </h5>
                        <div class="mt-3">
                            <p><strong>Name:</strong> {{ admin_profile.name }}</p>
                            <p><strong>Employee ID:</strong> {{ admin_profile.employee_id }}</p>
                            <p><strong>User Type:</strong> {{ admin_profile.get_user_type_display }}</p>
                            {% if admin_profile.department %}
                                <p><strong>Department:</strong> {{ admin_profile.department }}</p>
                            {% endif %}
                            {% if admin_profile.designation %}
                                <p><strong>Designation:</strong> {{ admin_profile.get_designation_display }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Hall Role Info -->
                <div class="col-lg-6">
                    <div class="p-4 bg-white rounded-4 shadow-sm h-100">
                        <h5 class="fw-bold border-bottom pb-2 text-primary">
                            <i class="bi bi-bank"></i> Hall Responsibilities
                        </h5>
                        <div class="mt-3">
                            {% if admin_profile.hall_role %}
                                <p><strong>Hall Role:</strong> {{ admin_profile.get_hall_role_display }}</p>
                            {% endif %}
                            {% if admin_profile.assigned_floor %}
                                <p><strong>Assigned Floor:</strong> {{ admin_profile.assigned_floor }}</p>
                            {% endif %}
                            {% if admin_profile.hall_responsibilities %}
                                <p><strong>Responsibilities:</strong> {{ admin_profile.hall_responsibilities }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="mt-4 p-4 bg-white rounded-4 shadow-sm">
                <h5 class="fw-bold border-bottom pb-2 text-primary">
                    <i class="bi bi-envelope"></i> Contact Details
                </h5>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <p><strong>Phone:</strong> {{ admin_profile.phone|default:"N/A" }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Email:</strong> {{ admin_profile.email|default:"N/A" }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
