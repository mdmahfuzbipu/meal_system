{% extends "base.html" %}
{% block content %}
<div class="max-w-2xl mx-auto bg-white shadow-md rounded-lg p-6 mt-10">
  <h2 class="text-2xl font-bold mb-4 text-center">Edit Student</h2>

  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    
    <h3 class="font-semibold text-gray-700 mb-2 mt-2">Basic Information</h3>
    <label class="block mb-2">Full Name</label>
    <input type="text" name="name" value="{{ student.name }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Room Number</label>
    <input type="text" name="room" value="{{ student.room_number }}" class="w-full border px-3 py-2 mb-3 rounded">

    <h3 class="font-semibold text-gray-700 mb-2 mt-4">University Details</h3>
    <label class="block mb-2">University ID (Roll)</label>
    <input type="text" name="roll" value="{{ details.university_id }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Department</label>
    <input type="text" name="department" value="{{ details.department }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Batch</label>
    <input type="text" name="batch" value="{{ details.batch }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Date of Birth</label>
    <input type="date" name="dob" value="{{ details.date_of_birth|date:'Y-m-d' }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">National ID</label>
    <input type="text" name="nid" value="{{ details.national_id }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Address</label>
    <textarea name="address" class="w-full border px-3 py-2 mb-3 rounded">{{ details.address }}</textarea>

    <label class="block mb-2">Phone Number</label>
    <input type="text" name="phone" value="{{ details.phone_number }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Blood Group</label>
    <input type="text" name="blood_group" value="{{ details.blood_group }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Guardian Name</label>
    <input type="text" name="guardian_name" value="{{ details.guardian_name }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Guardian Phone</label>
    <input type="text" name="guardian_phone" value="{{ details.guardian_phone }}" class="w-full border px-3 py-2 mb-3 rounded">

    <label class="block mb-2">Profile Picture</label>
    {% if details.profile_picture %}
      <img src="{{ details.profile_picture.url }}" class="w-24 h-24 object-cover mb-3 rounded-full border">
    {% endif %}
    <input type="file" name="profile_picture" class="w-full border px-3 py-2 mb-3 rounded">

    <div class="flex justify-end mt-4">
      <a href="{% url 'admins:manage_students' %}" class="bg-gray-300 px-4 py-2 rounded mr-2">Cancel</a>
      <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
        Save Changes
      </button>
    </div>
  </form>
</div>
{% endblock %}
